<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<div class="well">
 <legend th:text="${labor.id_labor} ? #{labor-id(${#numbers.formatInteger(labor.id_labor,3,'NONE')})} : #{nueva-labor}">[labor]</legend>
    
   <form id="formulario-labor" class="form-horizontal"  
        method="post" th:object="${labor}" role="form" 
        action="/labores/tabla/form/procesar/labor.html" 
        th:attr="action=@{/labores/tabla/form/procesar/labor.html}">
    
<!--    <div class="form-group">
        <label for="id_parcela" class="col-md-4 control-label">Id Labor</label>
        <div class="col-md-4">
            <input id="id_parcela" type="text" class="form-control input-sm" placeholder="XXXXXXXXXX"></input>
        </div>
    </div>-->
    <div class="form-group">
        <label for="tipolabores" class="col-md-4 control-label" th:text="#{tipo-labor}">[Tipo Labor]</label>
        <div class="col-md-8">
            <select id="tipolabores" th:field="*{id_tipo_labor}" placeholder="Seleccionar tipo labor...">
<!--                <option  th:each="tipoLabor_item : ${tipoLabores}" value="${tipoLabor_item.id_tipo_labor}" 
                         th:text="${tipoLabor_item.nombre}">[Tipo Labor]</option>-->
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="parcelas" class="col-md-4 control-label" th:text="#{parcelas}">[parcelas]</label>
        <div class="col-md-8">
            <select  id="parcelas" multiple="multiple" name="parcelas" placeholder="Seleccionar parcela(s)...">
                <option  th:each="parcela_item : ${parcelas}" value="${parcela_item.id_parcela}" 
                         th:text="${parcela_item.nombre}" th:selected="${parcela.id_parcela}">[Nombre Parcela]</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="personal" class="col-md-4 control-label" th:text="#{personal}">[Personal]</label>
        <div class="col-md-8">
            <select id="personal" multiple="multiple" name="personal" placeholder="Seleccionar personal...">
                <option  th:each="puesto : ${personal}" value="${puesto.id_coste_personal}" 
                         th:text="${puesto.funcion}">[Nombre Puesto]</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label for="fecha_comienzo" class="col-md-4 control-label" th:text="#{fecha-comienzo}">[Fecha Comienzo]</label>
        <div class="col-md-8">
            <input id="fecha_comienzo" class="form-control input-sm" placeholder="01/01/1999" ></input>
        </div>
    </div>
    <div class="form-group">
        <label for="cantidad_dosis_por_ha" class="col-md-4 control-label" th:text="#{cantidad-dosis-por-ha}">[Cantidad o dosis (por HA)]</label>
        <div class="col-md-8">
            <input id="cantidad_dosis_por_ha" class="form-control input-sm" placeholder="9.50"></input>
        </div>
    </div>
    <div class="form-group">
        <label for="duracion" class="col-md-4 control-label" th:text="#{duracion}">[Duracion (horas)]</label>
        <div class="col-md-8">
            <input id="duracion" class="form-control input-sm" placeholder="5"></input>
        </div>
    </div>
    <div class="form-group">
        <label for="litros_gasoil" class="col-md-4 control-label" th:text="#{gasoil}">[Gasoil (l)]</label>
        <div class="col-md-8">
            <input id="litros_gasoil" class="form-control input-sm" placeholder="20"></input>
        </div>
    </div>
    <div class="form-group">
        <div class="col-lg-12 text-center">
            <button type="button" id="boton_crear" class="btn btn-default btn-sm">Insertar</button>
            <button type="button" id="boton_modificar" class="btn btn-default btn-sm">Modificar</button>
            <button type="button" id="boton_eliminar" class="btn btn-default btn-sm">Eliminar</button>
            <button type="reset" class="btn btn-default btn-sm">Limpiar</button>
        </div>
    </div>
    
    <input id="insertar_modificar_eliminar" name="insertar_modificar_eliminar" type="hidden"/>
       
   </form>
 
</div>
    
<script  th:inline="javascript">/*<![CDATA[*/
        
    $(document).ready(function(){
        //Modificar hidden cuando click en nuevo o modificar
        $('#boton_crear').click(function() {
            $('#insertar_modificar_eliminar').val('insertar');
            $('#formulario-produccion').submit();
          });
          
        $('#boton_modificar').click(function() {
            $('#insertar_modificar_eliminar').val('modificar');
            $('#formulario-produccion').submit();
          });
          
        $('#boton_eliminar').click(function() {
            $('#insertar_modificar_eliminar').val('eliminar');
            $('#formulario-produccion').submit();
          });
          
          
        var labor = /*[[${labor}]]*/null;
        
        if(!labor || labor.id_labor < 1){
            $('#boton_modificar').attr('disabled','disabled');
            $('#boton_eliminar').attr('disabled','disabled');
        }
        
         $( "#fecha_comienzo" ).datepicker($.datepicker.regional[ "es" ] );
  });        
  /*]]>*/</script>
    
</html>