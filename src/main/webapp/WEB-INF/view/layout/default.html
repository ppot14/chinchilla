<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:tiles="http://www.thymeleaf.org">
    <head>
        <script src="/resources/js/jquery-1.9.1.js" th:src="@{/resources/js/jquery-1.9.1.js}"></script>
        <script src="/resources/js/jquery-ui-1.10.3.custom.js" th:src="@{/resources/js/jquery-ui-1.10.3.custom.js}"></script>
        <script src="/resources/js/jquery.ui.datepicker-es.js" th:src="@{/resources/js/jquery.ui.datepicker-es.js}"></script> 
        <script src="/resources/js/jquery.dataTables.js" th:src="@{/resources/js/jquery.dataTables.js}"></script> 
        <script src="/resources/js/jquery.validate.js" th:src="@{/resources/js/jquery.validate.js}"></script> 
        <script src="/resources/js/bootstrap.js" th:src="@{/resources/js/bootstrap.js}"></script> 
        <script src="/resources/js/additional-methods.js" th:src="@{/resources/js/additional-methods.js}"></script> 
        <script src="/resources/js/globalize.js" th:src="@{/resources/js/globalize.js}"></script> 
        <script src="/resources/js/globalize.culture.es-ES.js" th:src="@{/resources/js/globalize.culture.es-ES.js}"></script>
        <script src="/resources/js/jquery.pnotify.js" th:src="@{/resources/js/jquery.pnotify.js}"></script>
        
        <link rel="stylesheet" type="text/css" href="/resources/css/generic.css" th:href="@{/resources/css/generic.css}"/>
        <link rel="stylesheet" type="text/css" href="/resources/css/bootstrap.css" th:href="@{/resources/css/bootstrap.css}"/>
        <!--<link rel="stylesheet" type="text/css" href="/resources/css/bootstrap-theme.css" th:href="@{/resources/css/bootstrap-theme.css}"/>-->
        <link rel="stylesheet" type="text/css" href="/resources/css/smoothness/jquery-ui-1.10.3.custom.css" th:href="@{/resources/css/smoothness/jquery-ui-1.10.3.custom.css}"/>
        <link rel="stylesheet" type="text/css" href="/resources/css/layout.css" th:href="@{/resources/css/layout.css}"/>
        <link rel="stylesheet" type="text/css" href="/resources/css/jquery.pnotify.default.css" th:href="@{/resources/css/jquery.pnotify.default.css}"/>
        <link rel="stylesheet" type="text/css" href="/resources/css/jquery.pnotify.default.icons.css" th:href="@{/resources/css/jquery.pnotify.default.icons.css}"/>
        <link rel="stylesheet" type="text/css" href="/resources/css/specific.css" th:href="@{/resources/css/specific.css}"/>
        <link rel="stylesheet" type="text/css" href="/resources/css/overwrite.css" th:href="@{/resources/css/overwrite.css}"/>
        <link rel="icon" type="image/ico" href="/resources/favicon.ico"  th:href="@{/resources/favicon.ico}"/>
        
        <title>Chinchilla</title>
    </head>
    <body>
        <div id="layout">
            <div id="layout_header"  class="layout row">
                <div id="layout_title_left"  class="layout col-md-6" tiles:include="title_left">
                    Insertar Cabecera Izquierda Aqui
                </div>
                <div id="layout_title_right"  class="layout col-md-6" tiles:include="title_right">
                    Insertar Cabecera Derecha Aqui
                </div>
            </div>
            <div class="layout row">
                <div id="layout_menu"  class="layout col-md-12" tiles:include="menu">
                    Insertar Menu Aqui
                </div>
            </div>
            <div id="layout_body"  class="layout row">
                <div id="layout_leftpanel"  class="layout col-md-2" tiles:include="leftpanel">
                    Insertar Panel Izquierdo Aqui
                </div>
                <div id="layout_content"  class="layout col-md-6" tiles:include="content_main">
                    Insertar Panel Principal Aqui  
                </div>
                <div id="layout_rightpanel"  class="layout col-md-4" tiles:include="rightpanel">
                    Insertar Panel Derecho Aqui
                </div>
            </div>
            <div class="layout row">
                <div id="layout_footer" class="layout col-md-12" tiles:include="footer">
                    Insertar Pie Aqui
                </div>
            </div>
        </div>
        
        <div id="layout_notification"  class="layout" hidden="true">
        </div>
        
        <div id="layout_hidden"  class="layout" hidden="true">
        </div>
        
    </body>
    
<script th:inline="javascript">/*<![CDATA[*/
    
    var stack_bar_bottom = {
            "dir1": "down", 
            "dir2": "right", 
            "push": "top", 
            "spacing1": 0, 
            "spacing2": 0
        };
        
//    var dataTablesLanguage = /*[[@{/resources/json/dataTables.spanish.txt}]]*/null;
    var dataTablesLanguage = {
            "sProcessing":     "Procesando...",
            "sLengthMenu":     "Mostrar _MENU_ registros",
            "sZeroRecords":    "No se encontraron resultados",
            "sEmptyTable":     "Ning&uacute;n dato disponible en esta tabla",
            "sInfo":           "Mostrando del _START_ al _END_ , Total _TOTAL_ registros",
            "sInfoEmpty":      "Mostrando del 0 al 0 , Total 0 registros",
            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
            "sInfoPostFix":    "",
            "sSearch":         "Buscar:",
            "sUrl":            "",
            "sInfoThousands":  ",",
            "sLoadingRecords": "Cargando...",
            "oPaginate": {
                "sFirst":    "&lsaquo;&lsaquo;",
                "sLast":     "&rsaquo;&rsaquo;",
                "sNext":     "&rsaquo;",
                "sPrevious": "&lsaquo;"
            },
            "oAria": {
                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
            }
        };
    
    var tabla_opciones = {
            "bJQueryUI": true,
            "sPaginationType": "full_numbers",
            "iDisplayLength": 25,
            "oLanguage": dataTablesLanguage,
//            "sScrollX": "100%",
//            "sScrollXInner": "110%",
//            "bScrollCollapse": true,
            "bStateSave": true
        };

    $(window).load(function () {
        
        /*
         * Notificador
         */
        var notificacion = /*[[${notificacion}]]*/null;
        
        if(notificacion){
            
            $.pnotify.defaults.delay = 10000;
            
            $.pnotify({
		title: notificacion.titulo,
		text: notificacion.fecha +' - '+ notificacion.mensaje,
                type: notificacion.tipo,
                addclass: "stack-bar-bottom",
                stack: stack_bar_bottom,
                width: "40%",
                styling: "bootstrap",
                icon: true,
                closer: true,
                history: false
            });
            
        }
        
        /*
         * Hacer desaparecer panel derecho si no hay nada
         */
        var layout_rightpanel = $('#layout_rightpanel');
        
        var layout_leftpanel = $('#layout_leftpanel');
        
        var layout_content = $('#layout_content');
        
        if(layout_leftpanel && layout_rightpanel && layout_content){
            
            var contenidoDerecho = layout_rightpanel.html();
            
            var contenidoIzquierdo = layout_leftpanel.html();
            
//            console.debug('contenidoDerecho '+contenidoDerecho);
//            
//            console.debug('contenidoIzquierdo '+contenidoIzquierdo);
            
            if((!contenidoDerecho || 
                contenidoDerecho === '' || 
                contenidoDerecho === 'vacio' || 
                contenidoDerecho === 'empty')
                &&
                (!contenidoIzquierdo || 
                contenidoIzquierdo === '' || 
                contenidoIzquierdo === 'vacio' || 
                contenidoIzquierdo === 'empty')){
            
                layout_content.addClass('col-md-12');
                layout_content.removeClass('col-md-6');
                layout_content.removeClass('col-md-10');
//                layout_rightpanel.removeClass('col-md-4');
                layout_rightpanel.hide();
//                layout_leftpanel.removeClass('col-md-2');
                layout_leftpanel.hide();
                
            }else if(!contenidoDerecho || 
                contenidoDerecho === '' || 
                contenidoDerecho === 'vacio' || 
                contenidoDerecho === 'empty'){
            
                layout_content.addClass('col-md-10');
                layout_content.removeClass('col-md-6');
                layout_content.removeClass('col-md-12');
//                layout_rightpanel.removeClass('col-md-4');
                layout_rightpanel.hide();
//                layout_leftpanel.addClass('col-md-2');
                layout_leftpanel.show();
                
            }else{
                
                layout_content.addClass('col-md-6');
                layout_content.removeClass('col-md-10');
                layout_content.removeClass('col-md-12');
//                layout_rightpanel.addClass('col-md-4');
                layout_rightpanel.show();
//                layout_leftpanel.addClass('col-md-2');
                layout_leftpanel.show();
                
            }
            
        }
        
    });
    
/*]]>*/</script>     
    
</html>
