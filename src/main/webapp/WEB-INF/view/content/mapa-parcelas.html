<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<script type="text/javascript" 
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCpAR-D51JR7dd4EXPDxp0j7gUv6kXpSP0&amp;sensor=true&amp;libraries=geometry"></script>
<!--th:src="@{https://maps.googleapis.com/maps/api/js?key=AIzaSyCpAR-D51JR7dd4EXPDxp0j7gUv6kXpSP0(sensor=true)(libraries=geometry)}"></script>-->
<script src="/resources/js/mapas.js" th:src="@{/resources/js/mapas.js}"></script> 

<script th:inline="javascript">/*<![CDATA[*/
  
    $(window).load(function () {
        
//        console.info("Cargando mapa...");  

        var mapOptions = { 
            //CHINCHILLA
            //center: new google.maps.LatLng(37.32637, -5.20889),
            //RANCHO
            //center: new google.maps.LatLng(37.319063,-5.185826),
            center: new google.maps.LatLng(37.328292,-5.215223),
            zoom: 15,
            mapTypeId: google.maps.MapTypeId.SATELLITE  
        };

        var map = new google.maps.Map(document.getElementById("map_canvas"),mapOptions);
        
//        var parcelas = /*[[${parcelas_json}]]*/null;
        var parcelas = /*[[${parcelas}]]*/null;
//        var coordenadas = /*[[${coordenadas_json}]]*/null;
        var coordenadas = /*[[${coordenadas}]]*/null;
        
//        console.info("parcelas_json "+parcelas); 
//        console.info("parcelas "+parcelas2); 
//        console.info("coordenadas_json "+coordenadas); 
//        console.info("coordenadas "+coordenadas2);

        insertarPoligonos(map, parcelas, coordenadas);

//        console.info("Mapa cargado."); 
        
    });
    
/*]]>*/</script> 

<h2 th:text="#{mapa}">Mapa</h2>
<div id="map_canvas" ></div>

</html>
